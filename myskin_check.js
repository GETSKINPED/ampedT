"use strict";window.myskin_check=function(buffer){var c=(arguments.length>1?arguments[1]:true);var skinHeader=Header["NewSkinData"]["header"];if(buffer.startsWith(skinHeader)){var pixelFromHead=function(head){var br=new BufferReader(head);br.seek(br.readShortJava());var version=0;var pointnum=br.readShortJava();if(pointnum<0){version=pointnum;pointnum=br.readShortJava();}
br.seek(pointnum*4);var surfnum=br.readByteJava();if(surfnum){br.seek(br.readShortJava());br.seek(21);return br.readBuffer(br.readIntJava()).inflate();}};var pixelFromTexture=function(tex){var br=new BufferReader(tex);br.seek(br.readShortJava());br.seek(21);return br.readBuffer(br.readIntJava()).inflate();};var ser=buffer.unserializeSer();if(c||(!isUndefined(ser["checkDigit"])&&(ser["checkDigit"]>=10))){var cd=new Int32Array(1);var br;if(!isUndefined(ser["userID"])){cd[0]+=ser["userID"].hashCodeJava();}
if(!isUndefined(ser["style"])){cd[0]+=ser["style"].hashCodeJava();}
if(!isUndefined(ser["head"])&&ser["head"].byteLength){var pixel=pixelFromHead(ser["head"]);br=new BufferReader(pixel);for(var i=0;i<pixel.byteLength;i++){cd[0]+=br.readByteJava();}}
if(!isUndefined(ser["face"])&&ser["face"]["tex"]&&ser["face"]["tex"].length){for(var index=0;index<ser["face"]["tex"].length;index++){var pixel=pixelFromTexture(ser["face"]["tex"][index]);br=new BufferReader(pixel);for(var i=0;i<pixel.byteLength;i++){cd[0]+=br.readByteJava();}}}
if(!isUndefined(ser["body"])&&ser["body"]["tex"]&&ser["body"]["tex"].byteLength){var pixel=pixelFromTexture(ser["body"]["tex"]);br=new BufferReader(pixel);for(var i=0;i<pixel.byteLength;i++){cd[0]+=br.readByteJava();}}
cd=Math.abs(cd[0]).toString();var sum=0;var weight=3;for(var i=cd.length-1;i>-1;i--){sum+=parseInt(cd[i])*weight;weight=(weight==3?1:3);}
cd=(sum%10==0?0:10-sum%10);var bw=new BufferWriter(buffer.byteLength);bw.writeBuffer(buffer);bw.seek(skinHeader.byteLength+4,0);bw.writeIntJava(cd);buffer=bw.toBuffer();}}
return buffer;};UpdatePluginList("myskin_check");