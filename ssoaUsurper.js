"use strict";var ssoaUsurper={};ssoaUsurper["getMysoa"]=function(buffer){if(buffer&&buffer.byteLength){if(window["Kar"]){var kar=new window["Kar"](new FileInfo(".ssoa",buffer));var files=kar.getEntries();for(var i=0;i<files.length;i++){kar.checkBuffer(i);if(files[i]["buffer"].byteLength){return files[i]["buffer"];}}}}};ssoaUsurper["getUserID"]=function(list){var userID="";if(window["Kar"]){for(var i=0;i<list.length;i++){var kar=new window["Kar"](new FileInfo(".ssoa",list[i]["buffer"]));var files=kar.getEntries();var t="/mysoa";var s="";for(var i=0;i<files.length;i++){if(files[i]["path"].endsWith(t)){s=files[i]["path"].slice(0,files[i]["path"].length-t.length);break;}}
if(s){if(userID==""){userID=s;}
else if(userID!=s){userID="";break;}}}}
return userID;};ssoaUsurper["setUserID"]=function(buffer,userID){var mysoa=ssoaUsurper["getMysoa"](buffer);if(mysoa){var kar=new window["Kar"](new FileInfo(".ssoa"));if(userID){kar.addFile({"path":userID+"/mysoa","buffer":mysoa});}
kar.addFile({"path":"mysoa","buffer":mysoa});return kar.to();}
return buffer.getBuffer();};ModList["ssoa>ssoa"]=ModList["ssoa>ssoa"]||{};ModList["ssoa>ssoa"]["option"]=ModList["ssoa>ssoa"]["option"]||{};ModList["ssoa>ssoa"]["option"]["userID"]="";ModList["ssoa>ssoa"]["getOption"]=ModList["ssoa>ssoa"]["getOption"]||{};ModList["ssoa>ssoa"]["getOption"]["userID"]=ssoaUsurper["getUserID"];ModList["ssoa>ssoa"]["modData"]=ModList["ssoa>ssoa"]["modData"]||{};ModList["ssoa>ssoa"]["modData"]["userID"]=ssoaUsurper["setUserID"];UpdateModList();UpdatePluginList("ssoaUsurper");